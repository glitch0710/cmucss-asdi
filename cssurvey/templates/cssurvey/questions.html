{% extends "cssurvey/base_admin.html" %}

{% block content %}

<main>
    <header class="page-header page-header-dark bg-gradient-primary-to-secondary mb-4">
        <div class="container">
            <div class="page-header-content pt-4">
                <div class="row align-items-center justify-content-between">
                    <div class="col-auto mt-4">
                        <h1 class="page-header-title">
                            <div class="page-header-icon"><i data-feather="help-circle"></i></div>
                            Survey Questions
                        </h1>
                        <div class="page-header-subtitle">Basic information and setup of survey questions</div>
                    </div>
                </div>
                <form action="{% url 'questions' %}" method="POST">
                    {% csrf_token %}
                    <div class="page-header-search mt-4">
                        <div class="input-group input-group-joined">
                            <input class="form-control"  name="searchQuestion" id="searchQuestion" type="text" placeholder="Search..." aria-label="Search" autofocus />
                            <div class="input-group-append">
                                <span class="input-group-text"><i data-feather="search"></i></span>
                            </div>
                        </div>
                    </div>
                </form>
            </div>
        </div>
    </header>
    <!-- Main page content-->
    <div class="container">
        {% if active != '' %}
            <h4 class="mb-0 mt-5">Active Questions on Display</h4>
            <hr class="mt-2 mb-4" />
            <!-- Active Questions-->
            {% for activeque in active %}
                <a class="card card-icon lift lift-sm mb-4" href="{% url 'viewquestion' activeque.qid %}">
                    <div class="row no-gutters">
                        <div class="col-auto card-icon-aside bg-teal"><i class="text-white-50" data-feather="check-circle"></i></div>
                        <div class="col">
                            <div class="card-body py-4">
                                <h5 class="card-title text-teal mb-2">Question No. {{ activeque.qid }}</h5>
                                <p class="card-text mb-1">{{ activeque.survey_question }}</p>
                                <div class="small text-muted">Active</div>
                            </div>
                        </div>
                    </div>
                </a>
            {% endfor %}
        {% endif %}
        {% if inactive != '' %}
            <h4 class="mb-0 mt-5">Inactive Questions</h4>
            <hr class="mt-2 mb-4" />
            <div class="row">
                {% for inactiveque in inactive %}
                    <div class="col-lg-4 mb-4">
                        <!-- Inactive Questions-->
                        <a class="card lift lift-sm h-100" href="{% url 'viewquestion' inactiveque.qid %}">
                            <div class="card-body">
                                <h5 class="card-title text-orange mb-2">
                                    <i class="mr-2" data-feather="x-circle"></i>
                                    Question No. {{ inactiveque.qid }}
                                </h5>
                                <p class="card-text mb-1">{{ inactiveque.survey_question }}</p>
                            </div>
                            <div class="card-footer"><div class="small text-muted">Inactive</div></div>
                        </a>
                    </div>
                {% endfor %}
            </div>
        {% endif %}
        {% if searched != '' %}
            <h4 class="mb-0 mt-5">Result from searched question</h4>
            <hr class="mt-2 mb-4" />
            <!-- Active Questions-->
            {% for question in searched %}
                <a class="card card-icon lift lift-sm mb-4" href="{% url 'viewquestion' question.qid %}">
                    <div class="row no-gutters">
                        {% if question.display_status == 1 %}
                            <div class="col-auto card-icon-aside bg-teal"><i class="text-white-50" data-feather="check-circle"></i></div>
                        {% else %}
                            <div class="col-auto card-icon-aside bg-orange"><i class="text-white-50" data-feather="x-circle"></i></div>
                        {% endif %}
                        <div class="col">
                            <div class="card-body py-4">
                                <h5 class="card-title text-teal mb-2">Question No. {{ question.qid }}</h5>
                                <p class="card-text mb-1">{{ question.survey_question }}</p>
                            </div>
                        </div>
                    </div>
                </a>
            {% endfor %}
            <div class="text-center mt-5">
                <div class="mb-3">
                    <a class="btn btn-primary mx-2 px-3" role="button" href="{% url 'questions' %}">
                        <i class="mr-2" data-feather="stop-circle"></i>
                        Stop Search
                    </a>
                </div>
            </div>
        {% endif %}
    </div>
</main>

{% endblock %}